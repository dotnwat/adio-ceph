/*
 This is part of the OTF library. Copyright by ZIH, TU Dresden 2005-2007.
 Authors: Andreas Knuepfer, Holger Brunst, Ronny Brendel, Thomas Kriebitzsch
*/

/** 
 *  @file OTF_inttypes.h
 *
 *  @brief Deals with all data type related issues.
 *
 *  \ingroup misc
 */


#ifndef OTF_INTTYPES_H
#define OTF_INTTYPES_H

#define OTF_HAVE_STDINT_H @have_stdint_h@
#define OTF_HAVE_INTTYPES_H @have_inttypes_h@
#define OTF_SIZEOF_LONG @sizeof_long@

#if (defined WIN32) /* windows */

	#if (defined _MSC_VER) /* it's visual studio */

		#if( _MSC_VER >= 1310 ) /* vs2003 and newer */

			/* needed by otf */
			typedef unsigned char uint8_t;
			typedef signed int int32_t;
			typedef unsigned int uint32_t;
			typedef signed __int64 int64_t;
			typedef unsigned __int64 uint64_t;

			/* not needed by otf */
			typedef signed char int8_t;
			typedef signed short int16_t;
			typedef unsigned short uint16_t;

		#endif

	#endif

#else /* unix, ... */

#	if OTF_HAVE_STDINT_H
#		include <stdint.h>
#	elif OTF_HAVE_INTTYPES_H
#		include <inttypes.h>
#	else /* OTF_HAVE_STDINT_H || OTF_HAVE_INTTYPES_H */

		typedef signed char                     int8_t;
		typedef signed short int                int16_t;
		typedef signed int                      int32_t;
#		if OTF_SIZEOF_LONG == 8
			typedef signed long int         int64_t;
#		else /* OTF_SIZEOF_LONG */
			typedef signed long long int    int64_t;
#		endif /* OTF_SIZEOF_LONG */

		typedef unsigned char                   uint8_t;
		typedef unsigned short int              uint16_t;
		typedef unsigned int                    uint32_t;
#		if OTF_SIZEOF_LONG == 8
			typedef unsigned long int       uint64_t;
#		else /* OTF_SIZEOF_LONG */
			typedef unsigned long long int  uint64_t;
#		endif /* OTF_SIZEOF_LONG */

#	endif /* OTF_HAVE_INTTYPES_H || OTF_HAVE_STDINT_H */

#endif


/** Converts unsigned integers of 8, 16, 32 or 64 bit length into OTF counter values. */
uint64_t OTF_Unsigned2Counter( uint64_t value );
/** Converts OTF counter values to unsigned integers of 8, 16, 32 or 64 bit length. */
uint64_t OTF_Counter2Unsigned( uint64_t value );


/** Converts signed integers of 8, 16, 32 or 64 bit length to OTF counter values. */
uint64_t OTF_Signed2Counter( int64_t value );
/** Converts OTF counter values to signed integers of 8, 16, 32 or 64 bit length. */
int64_t OTF_Counter2Signed( uint64_t value );


/** Converts single precision floating point variables to OTF counter values. */
uint64_t OTF_Float2Counter( float value );
/** Converts OTF counter values to single precision floating point values. */
float OTF_Counter2Float( uint64_t value );


/** Converts double precision floating point values to OTF counter values. */
uint64_t OTF_Double2Counter( double value );
/** Converts OTF counter values to double precision floating point values. */
double OTF_Counter2Double( uint64_t value );

#endif /* OTF_INTTYPES_H */

